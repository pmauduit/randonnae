<h1>Randonnae</h1>

<p><b>Randonnae</b> is a web application written in
Ruby-On-Rails, that aims to provide a nice and easy way to store pictures taken
during a trek, and to display them with the according GPS trace on a slippy
map.</p>

<p>It is first designed to be compatible with the files produced by the Android
application <%= link_to "OsmTracker",
  "http://wiki.openstreetmap.org/wiki/OSMtracker" %>, but could be used with
  other softwares in the future.</p>

<% if current_user %>

  <p>To upload a trek, just take a directory generated by OsmTracker, zip it
  with the GPX and the picture files, and upload it</p>

  <p>Hey <%=current_user.name %> ! Why not dropping a zip file containing a GPX
  and your photos ? <%= link_to "Upload a trek now", {:controller => 'treks', :action => 'new'} %>.</p>

<%else %>

  <p> In order to be able to use the application, you will need to login:
  <%= link_to "authenticate using your OpenStreetMap account", "/auth/osm" %></p>
  <%= link_to "authenticate using your Google account", "/auth/google_oauth2" %></p>

<% end %>

<% unless @last_ten_treks.empty? %>
<h3>Last added treks</h3>
  <ul id="treks">
    <% @last_ten_treks.each do |c| %>
      <li><%= link_to c.title, {:controller => 'treks', :action => 'show', :id => c.id} -%></li>
    <% end %>
  </ul>
<% end %>
